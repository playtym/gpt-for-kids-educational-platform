
/* Import Apple Design System */
@import './styles/apple-design-system.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Shadcn/UI Variables using Apple Design System */
    --background: 242 242 247; /* --apple-secondary-system-background */
    --foreground: 0 0 0; /* --apple-label */

    --card: 255 255 255; /* --apple-secondary-system-grouped-background */
    --card-foreground: 0 0 0; /* --apple-label */

    --popover: 255 255 255;
    --popover-foreground: 0 0 0;

    /* Apple Blue as Primary */
    --primary: 0 122 255; /* --apple-blue */
    --primary-foreground: 255 255 255;

    /* Apple System Grays */
    --secondary: 229 229 234; /* --apple-gray-5 */
    --secondary-foreground: 60 60 67; /* --apple-secondary-label */

    --muted: 242 242 247; /* --apple-gray-6 */
    --muted-foreground: 142 142 147; /* --apple-gray-1 */

    --accent: 52 199 89; /* --apple-green */
    --accent-foreground: 255 255 255;

    /* Apple Red for Destructive */
    --destructive: 255 59 48; /* --apple-red */
    --destructive-foreground: 255 255 255;

    /* Apple System Borders */
    --border: 229 229 234; /* --apple-gray-5 */
    --input: 242 242 247; /* --apple-gray-6 */
    --ring: 0 122 255; /* --apple-blue */

    /* Apple Corner Radius */
    --radius: 12px; /* --apple-corner-radius-large */

    /* Sidebar using Apple Materials */
    --sidebar-background: 248 248 248 / 0.8; /* --apple-system-material */
    --sidebar-foreground: 0 0 0;
    --sidebar-primary: 0 122 255;
    --sidebar-primary-foreground: 255 255 255;
    --sidebar-accent: 242 242 247;
    --sidebar-accent-foreground: 0 0 0;
    --sidebar-border: 229 229 234;
    --sidebar-ring: 0 122 255;
  }

  .dark {
    /* Apple Dark Mode Colors */
    --background: 0 0 0; /* --apple-system-background dark */
    --foreground: 255 255 255; /* --apple-label dark */

    --card: 28 28 30; /* --apple-secondary-system-background dark */
    --card-foreground: 255 255 255;

    --popover: 28 28 30;
    --popover-foreground: 255 255 255;

    --primary: 10 132 255; /* --apple-blue dark */
    --primary-foreground: 255 255 255;

    --secondary: 44 44 46; /* --apple-gray-5 dark */
    --secondary-foreground: 235 235 245; /* --apple-secondary-label dark */

    --muted: 44 44 46; /* --apple-gray-5 dark */
    --muted-foreground: 142 142 147; /* --apple-gray-1 dark */

    --accent: 48 209 88; /* --apple-green dark */
    --accent-foreground: 0 0 0;

    --destructive: 255 69 58; /* --apple-red dark */
    --destructive-foreground: 255 255 255;

    --border: 58 58 60; /* --apple-gray-3 dark */
    --input: 44 44 46; /* --apple-gray-5 dark */
    --ring: 10 132 255; /* --apple-blue dark */

    --sidebar-background: 28 28 30 / 0.8;
    --sidebar-foreground: 255 255 255;
    --sidebar-primary: 10 132 255;
    --sidebar-primary-foreground: 255 255 255;
    --sidebar-accent: 44 44 46;
    --sidebar-accent-foreground: 255 255 255;
    --sidebar-border: 58 58 60;
    --sidebar-ring: 10 132 255;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-white text-foreground;
    font-family: var(--apple-font-family);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    overflow-x: hidden;
  }

  #root {
    @apply bg-white;
    min-height: 100vh;
  }

  /* Mobile-specific fixes */
  @media (max-width: 768px) {
    body, #root {
      background-color: #F7F8FC !important;
    }
    
    /* iOS Safe Area Support */
    .pt-safe-top {
      padding-top: env(safe-area-inset-top, 0);
    }
    
    .pb-safe-bottom {
      padding-bottom: env(safe-area-inset-bottom, 0);
    }
    
    .safe-area-inset-bottom {
      padding-bottom: max(12px, env(safe-area-inset-bottom));
    }
    
    /* Duolingo-inspired background */
    .bg-white {
      background-color: white !important;
    }
    
    /* Allow specific component backgrounds to work */
    .bg-gray-50 {
      background-color: #F9FAFB !important;
    }
    
    .bg-gray-100 {
      background-color: #F3F4F6 !important;
    }
    
    .bg-gray-200 {
      background-color: #E5E7EB !important;
    }
    
    /* Duolingo-style hover effects */
    .hover\\:bg-green-50:hover {
      background-color: #F0FDF4 !important;
    }
    
    .hover\\:border-green-300:hover {
      border-color: #86EFAC !important;
    }
    
    /* Responsive layout for very small screens */
    @media (max-height: 600px) {
      .safe-area-inset-bottom {
        padding-bottom: max(8px, env(safe-area-inset-bottom));
      }
    }
    
    /* Extra small phones */
    @media (max-height: 500px) {
      .safe-area-inset-bottom {
        padding-bottom: max(6px, env(safe-area-inset-bottom));
      }
    }
    
    /* Smooth scrolling for mobile */
    * {
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
    }
    
    /* Better touch targets */
    button, a, input, textarea {
      min-height: 44px;
      touch-action: manipulation;
    }
    
    /* Prevent zoom on input focus */
    input, textarea, select {
      font-size: 16px !important;
    }
  }
}
